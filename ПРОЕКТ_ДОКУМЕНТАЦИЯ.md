# Документация проекта "Агрегатор лизинга"

## Обзор проекта

### Назначение системы
Агрегатор лизинга - это веб-приложение на React для управления лизинговыми операциями, брокерами, клиентами и лизинговыми компаниями. Система предоставляет ролевой доступ для различных типов пользователей и обеспечивает полный цикл управления лизинговыми сделками.

### Технологический стек

#### Основные технологии
- **React 18.2.0** - Основная библиотека для построения пользовательского интерфейса
- **TypeScript 5.0.2** - Строгая типизация для повышения надежности кода
- **Vite 4.4.5** - Современный инструмент сборки и разработки
- **Tailwind CSS 3.3.0** - Utility-first CSS фреймворк для стилизации

#### Дополнительные библиотеки
- **file-saver 2.0.5** - Сохранение файлов на стороне клиента
- **xlsx 0.18.5** - Работа с Excel файлами (импорт/экспорт данных)

#### Инструменты разработки
- **ESLint** - Статический анализ кода
- **PostCSS** - Обработка CSS с автопрефиксами
- **TypeScript компилятор** - Компиляция TypeScript в JavaScript

### Архитектура приложения

#### Структура проекта
```
leasing-aggregator/
├── src/
│   ├── components/          # React компоненты
│   ├── pages/              # Страницы приложения
│   ├── types/              # TypeScript интерфейсы
│   ├── data/               # Моковые данные
│   ├── hooks/              # Пользовательские хуки
│   ├── ui/                 # UI компоненты
│   └── utils/              # Утилиты
├── public/                 # Статические файлы
├── dist/                   # Собранное приложение
└── конфигурационные файлы
```

#### Конфигурация сборки
- **Цель компиляции**: ES2022 для современных браузеров
- **Модульная система**: ESNext с bundler resolution
- **JSX**: React JSX трансформация
- **Минификация**: esbuild для быстрой сборки
- **Разделение кода**: Vendor chunk для React библиотек

#### Настройки TypeScript
- **Строгий режим**: Включены все строгие проверки
- **Разрешение путей**: Поддержка алиасов `@/*` для `src/*`
- **Проверки**: noUnusedLocals, noUnusedParameters, noFallthroughCasesInSwitch
- **Модули**: Поддержка JSON импорта и TypeScript расширений

#### Стилизация с Tailwind CSS
- **Кастомные цвета**: Поддержка прозрачности (white/10, black/50)
- **Анимации**: fadeIn, slideUp, slideDown, spin
- **Шрифты**: Inter как основной шрифт
- **Адаптивность**: Расширенные breakpoints и размеры

### Система ролей и доступа

Приложение поддерживает четыре основные роли пользователей:

1. **Брокер** - Работа со сделками и клиентами
2. **Руководитель брокера** - Дополнительно отчеты и управление организацией
3. **Бизнес-администратор** - Управление лизинговыми компаниями и брокерами
4. **Технический администратор** - Управление пользователями и интеграциями

### Особенности разработки

#### Среда разработки
- **Порт разработки**: 3000 с автоматическим открытием браузера
- **Порт предпросмотра**: 4173
- **Hot Module Replacement**: Мгновенное обновление при изменениях
- **Source Maps**: Отключены в production для оптимизации

#### Система версионирования
- **Текущая версия**: 0.4.1
- **Автоматическое внедрение версии**: Через Vite define
- **Отображение версии**: В интерфейсе приложения

#### Поддержка файлов
- **Excel интеграция**: Импорт и экспорт данных через xlsx
- **Сохранение файлов**: Клиентское сохранение через file-saver
- **Типы файлов**: Поддержка различных форматов документов

### Развертывание и сборка

#### Команды сборки
- `npm run dev` - Запуск сервера разработки
- `npm run build` - Сборка для production (TypeScript + Vite)
- `npm run preview` - Предпросмотр собранного приложения

#### Оптимизации production
- **Минификация**: esbuild для быстрой минификации
- **Разделение кода**: Отдельный vendor chunk для библиотек
- **Целевая платформа**: ES2022 для современных браузеров
- **Размер bundle**: Оптимизирован для быстрой загрузки

Эта архитектура обеспечивает современную, масштабируемую и производительную основу для системы управления лизинговыми операциями.